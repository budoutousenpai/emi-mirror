<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Luxury Utility Gold Edition</title>
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg, #d4af37 0%, #f9f295 45%, #b8860b 100%);
            --panel-bg: rgba(44, 62, 80, 0.9);
            --gold-border: #ffd700;
            --tri-red: #ff0000;
            --tri-blue: #0000ff;
            --tri-yellow: #ffff00;
        }

        body { 
            font-family: 'Georgia', serif; 
            padding: 10px; 
            background: var(--bg-gradient); 
            background-attachment: fixed;
            margin: 0;
            color: #fff;
        }

        /* ミラー セクション - 画像とカメラの切り替え */
        #mirror-container {
            width: 100%;
            text-align: center;
            margin-top: 10px;
            cursor: pointer;
        }
        #video, #emirin-img { 
            width: 100%; 
            border-radius: 20px;
            border: 4px solid var(--gold-border);
            box-shadow: 0 10px 30px rgba(0,0,0,0.7);
            display: block;
        }
        #video {
            display: none;
            background: #000; 
            transform: scaleX(-1);
        }

        /* ロゴ配置 */
        .header-logos {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-top: 15px;
            padding: 10px 0;
            background: rgba(0,0,0,0.3);
            border-top: 3px double var(--gold-border);
            border-bottom: 3px double var(--gold-border);
        }
        .header-logos img {
            width: 46%;
            height: auto;
            filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.6));
        }

        h3 { 
            color: #fff; 
            background: linear-gradient(to right, #b8860b, transparent);
            border-left: 8px solid var(--gold-border);
            padding: 8px 15px;
            margin-top: 25px;
            font-size: 1.3rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            border-radius: 0 15px 15px 0;
        }

        /* 電話：宝石スライダー */
        .phone-row { margin-bottom: 15px; }
        .slider-track {
            width: 100%;
            height: 65px;
            background: #222;
            border-radius: 35px;
            position: relative;
            display: flex;
            align-items: center;
            border: 3px solid var(--gold-border);
            box-shadow: inset 0 5px 15px rgba(0,0,0,0.8);
        }
        .slider-handle {
            width: 68%;
            height: 52px;
            border-radius: 26px;
            position: absolute;
            left: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 3px rgba(0,0,0,0.8);
            box-shadow: 0 5px 15px rgba(0,0,0,0.5), inset 0 2px 2px rgba(255,255,255,0.5);
            touch-action: none;
            z-index: 2;
        }
        .row-0 .slider-handle, .row-3 .slider-handle, .row-6 .slider-handle { background: radial-gradient(circle at 30% 30%, #ff4b2b, #ff0000); }
        .row-1 .slider-handle, .row-4 .slider-handle, .row-7 .slider-handle { background: radial-gradient(circle at 30% 30%, #1e90ff, #0000ff); }
        .row-2 .slider-handle, .row-5 .slider-handle { background: radial-gradient(circle at 30% 30%, #ffff80, #ffd700); color: #000; }

        .status-light {
            width: 25px;
            height: 25px;
            background: #444;
            border: 2px solid #666;
            border-radius: 50%;
            position: absolute;
            right: 20px;
        }

        /* メモ帳 */
        textarea { 
            width: 100%; 
            box-sizing: border-box;
            height: 150px; 
            font-size: 18px; 
            padding: 15px;
            border-radius: 15px;
            border: 3px solid var(--gold-border);
            background: #1a1a1a;
            color: #f9f295;
            box-shadow: inset 0 10px 20px rgba(0,0,0,0.8);
            line-height: 1.5;
        }

        /* クイックリンク */
        .link-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            padding-bottom: 40px;
        }
        .link-btn {
            border: 2px solid var(--gold-border);
            padding: 18px 5px;
            border-radius: 15px;
            font-size: 15px;
            font-weight: bold;
            color: #fff;
            text-align: center;
            box-shadow: 0 6px 0 #8b4513, 0 8px 15px rgba(0,0,0,0.4);
            cursor: pointer;
            text-shadow: 1px 1px 2px #000;
        }
        .link-btn:active { transform: translateY(4px); box-shadow: 0 2px 0 #8b4513; }
        .c1 { background: linear-gradient(to bottom, #ff6b6b, #c0392b); }
        .c2 { background: linear-gradient(to bottom, #3498db, #2980b9); }
        .c3 { background: linear-gradient(to bottom, #2ecc71, #27ae60); }
        .c4 { background: linear-gradient(to bottom, #f1c40f, #f39c12); }
        .c5 { background: linear-gradient(to bottom, #9b59b6, #8e44ad); }
        .c6 { background: linear-gradient(to bottom, #1abc9c, #16a085); }
        .c7 { background: linear-gradient(to bottom, #e67e22, #d35400); }
        .c8 { background: linear-gradient(to bottom, #34495e, #2c3e50); }

        hr { border: 0; border-top: 4px double var(--gold-border); margin: 35px 0; }
    </style>
</head>
<body>

<div id="mirror-container" onclick="toggleMirror()">
    <img id="emirin-img" src="emirin.jpg" alt="Emirin">
    <video id="video" autoplay playsinline></video>
</div>

<div class="header-logos">
    <img src="fuwamait.jpg" alt="ふわめいと">
    <img src="budousen.jpg" alt="ぶどう">
</div>

<hr>

<h3>VIP CALL (登録は２秒押す)</h3>
<div id="phone-list"></div>

<hr>

<h3>GOLD MEMO</h3>
<textarea id="memo" placeholder="黄金のメモをここに..."></textarea>

<hr>

<h3>PREMIUM LINKS</h3>
<div class="link-grid">
    <div class="link-btn c1" onclick="window.open('https://www.google.co.jp')">Google Search</div>
    <div class="link-btn c2" onclick="window.open('https://www.yahoo.co.jp')">Yahoo! News</div>
    <div class="link-btn c3" onclick="window.open('https://www.youtube.com')">YouTube Video</div>
    <div class="link-btn c4" onclick="window.open('https://weather.yahoo.co.jp/weather/')">Weather</div>
    <div class="link-btn c5" onclick="window.open('https://www.amazon.co.jp')">Amazon</div>
    <div class="link-btn c6" onclick="window.open('https://map.google.co.jp')">Google Maps</div>
    <div class="link-btn c7" onclick="window.open('https://www.rakuten.co.jp/')">Rakuten</div>
    <div class="link-btn c8" onclick="window.open('https://news.google.com')">Top News</div>
</div>

<script>
let stream = null;
const video = document.getElementById('video');
const emirinImg = document.getElementById('emirin-img');

async function toggleMirror() {
    if (!stream) {
        // ミラーをオンにする
        try {
            stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } });
            video.srcObject = stream;
            video.style.display = 'block';
            emirinImg.style.display = 'none';
        } catch (err) {
            alert("カメラを起動できませんでした。権限を確認してください。");
        }
    } else {
        // ミラーをオフにして画像に戻す
        stream.getTracks().forEach(track => track.stop());
        stream = null;
        video.style.display = 'none';
        emirinImg.style.display = 'block';
    }
}

// 以下、既存のロジックを維持
const phoneList = document.getElementById('phone-list');
let phoneData = JSON.parse(localStorage.getItem('phoneData')) || [
    {name: "登録1", tel: ""}, {name: "登録2", tel: ""},
    {name: "登録3", tel: ""}, {name: "登録4", tel: ""},
    {name: "登録5", tel: ""}, {name: "登録6", tel: ""},
    {name: "登録7", tel: ""}, {name: "登録8", tel: ""}
];

function initPhones() {
    phoneList.innerHTML = '';
    phoneData.forEach((data, index) => {
        const row = document.createElement('div');
        row.className = `phone-row row-${index}`;
        row.innerHTML = `
            <div class="slider-track">
                <div class="slider-handle" id="handle-${index}">${data.name}</div>
                <div class="status-light" id="light-${index}"></div>
            </div>
        `;
        phoneList.appendChild(row);

        const handle = document.getElementById(`handle-${index}`);
        const light = document.getElementById(`light-${index}`);
        let startX = 0;
        let isMoving = false;
        let pressTimer;

        handle.addEventListener('touchstart', (e) => {
            pressTimer = setTimeout(() => {
                const newName = prompt("名前を編集", data.name);
                const newTel = prompt("電話番号を編集", data.tel);
                if (newName !== null && newTel !== null) {
                    phoneData[index] = {name: newName, tel: newTel};
                    localStorage.setItem('phoneData', JSON.stringify(phoneData));
                    initPhones();
                }
            }, 800);
            startX = e.touches[0].clientX;
            isMoving = true;
        });

        handle.addEventListener('touchmove', (e) => {
            if (!isMoving) return;
            clearTimeout(pressTimer);
            let moveX = e.touches[0].clientX - startX;
            const maxMove = handle.parentElement.clientWidth - handle.clientWidth - 10;
            if (moveX < 0) moveX = 0;
            if (moveX > maxMove) moveX = maxMove;
            handle.style.left = (moveX + 6) + 'px';
            light.style.background = (moveX >= maxMove - 5) ? '#00ff00' : '#444';
        });

        handle.addEventListener('touchend', (e) => {
            isMoving = false;
            clearTimeout(pressTimer);
            const maxMove = handle.parentElement.clientWidth - handle.clientWidth - 10;
            const currentLeft = parseInt(handle.style.left);
            if (currentLeft >= maxMove - 10 && data.tel) {
                location.href = 'tel:' + data.tel;
            }
            handle.style.transition = 'left 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55)';
            handle.style.left = '6px';
            setTimeout(() => { 
                handle.style.transition = ''; 
                light.style.background = '#444'; 
            }, 400);
        });
    });
}

const memo = document.getElementById("memo");
memo.value = localStorage.getItem("memo") || "";
memo.addEventListener("input", () => localStorage.setItem("memo", memo.value));

initPhones();
</script>

</body>
</html>